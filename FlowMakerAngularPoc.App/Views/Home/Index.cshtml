<body id="container" class="ng-cloack" ng-app="angularBox" ng-controller="EditorController" database="dbExample">
    <span ng-init="uiVars={}"></span>
    <span ng-init="$root.exchange={uiVars:uiVars}"></span>
    @*<lock-screen></lock-screen>
        <alert-message></alert-message>*@

    <div id="logo">Draw2D</div>
    <div id="toolbar" class="navbar-default">
        <button class="btn btn-lg btn-primary" ng-click="editor.fileOpen()"> Open   </button>
        <div class="btn-group">
            <button class="btn btn-lg btn-default" ng-disabled="!editor.state.canUndo" ng-click="editor.undo()"> Undo   </button>
            <button class="btn btn-lg btn-default" ng-disabled="!editor.state.canRedo" ng-click="editor.redo()"> Redo   </button>
            <button class="btn btn-lg btn-default" ng-disabled="editor.selection.figure==null" ng-click="editor.delete()"> Delete </button>
        </div>
    </div>

    <div id="propertyPane">
        <div id="propertyHeader" class="highlight panetitle blackgradient">
            Shape Properties
            {{editor.selection.className}}
        </div>
        <div id="properties" ng-switch on="editor.selection.className">

            <div ng-switch-when="draw2d.shape.node.Start">
                Start
                <div class="panel panel-default">
                    <div class="panel-heading">Position</div>
                    <div class="panel-body" id="position_panel">
                        <div class="form-group">
                            x: <input class="form-control" type="number" ng-model="editor.selection.attr.x"><br>
                            y: <input class="form-control" type="number" ng-model="editor.selection.attr.y">
                        </div>
                    </div>
                </div>
            </div>

            <div ng-switch-when="draw2d.shape.node.End">
                End
                <div class="panel panel-default">
                    <div class="panel-heading">Position</div>
                    <div class="panel-body" id="position_panel">
                        <div class="form-group">
                            x: <input class="form-control" type="number" ng-model="editor.selection.attr.x"><br>
                            y: <input class="form-control" type="number" ng-model="editor.selection.attr.y">
                        </div>
                    </div>
                </div>
            </div>

            <div ng-switch-when="Info">
                <div class="panel panel-default">
                    <div class="panel-heading">Info</div>
                    <div class="panel-body" id="position_panel">
                        <div class="form-group">
                            <!--Flow name: <input class="form-control" type="text" ng-model="editor.selection.userData.flowData.flow"><br>-->
                            Html:<br><textarea class="form-control" ng-model="editor.selection.userData.flowData.html" ng-change="setHtmlContent()" style="width:350px; height:100px; resize:none"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div ng-switch-when="Control">
                <div class="panel panel-default">
                    <div class="panel-heading">Control</div>
                    <div class="panel-body" id="position_panel">
                        <div class="form-group">
                            Title:<br> <textarea class="form-control" ng-model="editor.selection.userData.flowData.title" ng-change="setTitle()" style="width:350px; height:100px; resize:none"></textarea><br>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">Add Button</div>
                    <div class="panel-body" id="position_panel">
                        <div class="form-group">
                            Label: <input class="form-control" ng-model="newChildText"><br>
                            <a href="#" ng-click="editor.selection.figure.addEntity(newChildText)">Add button</a>
                            <!--Value: <textarea class="form-control" ng-model="editor.selection.userData.flowData.title" ng-change="setTitle()" style="width:350px; height:100px; resize:none"></textarea><br>-->
                        </div>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">Button</div>
                    <div class="panel-body" id="position_panel">

                        <table id="table-control-buttons">
                            <tr>
                                <th>Label</th>
                                <th>Value</th>
                                <th>Id</th>
                            </tr>
                            <tr ng-repeat="child in editor.selection.children.data track by $index">
                                <td><input class="form-control" ng-model="child.text" ng-change="child.setText(child.text)"></td>
                                <td><input class="form-control" ng-model="child.text" ng-change="child.setText(child.text)"></td>
                                <td><input class="form-control" ng-model="child.text" ng-change="child.setText(child.text)"></td>
                            </tr>
                        </table>
                        <!--
                            <div class="form-group">
                                Label: <input class="form-control" ng-model="newChildText"><br>
                                <a href="#" ng-click="editor.selection.figure.addEntity(newChildText)">Add button</a>
                                <!--Value: <textarea class="form-control" ng-model="editor.selection.userData.flowData.title" ng-change="setTitle()" style="width:350px; height:100px; resize:none"></textarea><br>
                            </div>
                        -->
                    </div>
                </div>
            </div>
            <!--

                            <div class="panel panel-default" ng-repeat="child in editor.selection.children.data track by $index">
                                <div class="panel-heading">Button</div>
                                <div class="panel-body" id="position_panel">
                                    <div class="form-group">
                                        Label: <input class="form-control" ng-model="child.text" ng-change="child.setText(child.text)"><br>
                                        <!--Value: <textarea class="form-control" ng-model="editor.selection.userData.flowData.title" ng-change="setTitle()" style="width:350px; height:100px; resize:none"></textarea><br>
                                    </div>
                                </div>
                            </div>
                        </div>
                -->
            <!--
                            <div class="panel panel-default">
                                <div class="panel-heading">Button 1</div>
                                <div class="panel-body" id="position_panel">
                                    <div class="form-group">
                                        Label: <input class="form-control" type="number" ng-model="editor.selection.userData.controls[1].label"><br>
                                        Id: <textarea class="form-control" ng-model="editor.selection.userData.controls[1].id" ng-change="setHtmlContent()" style="width:350px; height:100px; resize:none"></textarea>
                                        Value: <textarea class="form-control" ng-model="editor.selection.userData.controls[1].value" ng-change="setHtmlContent()" style="width:350px; height:100px; resize:none"></textarea>
                                    </div>
                                </div>
                            </div>


                            <div class="panel panel-default">
                                <div class="panel-heading">Button 2</div>
                                <div class="panel-body" id="position_panel">
                                    <div class="form-group">
                                        Flow name: <input class="form-control" type="number" ng-model="editor.selection.userData.flowName"><br>
                                        Title: <textarea class="form-control" ng-model="editor.selection.userData.contentHtml" ng-change="setHtmlContent()" style="width:350px; height:100px; resize:none"></textarea>
                                    </div>
                                </div>
                            </div>

                        </div>


                        <!--
                        <div ng-switch-default>
                            Default
                            <div class="panel panel-default">
                                <div class="panel-heading">Content</div>
                                <div class="panel-body" id="position_panel">
                                    <div class="form-group">
                                        Html Content: <textarea class="form-control" ng-model="editor.selection.userData.contentHtml" ng-change="setHtmlContent()" style="width:350px; height:100px; resize:none" ></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        -->


        </div>

    </div>

    <div id="palettePane" draw2d-palette>
    </div>

    <div id="canvas" draw2d-canvas>
    </div>


</body>